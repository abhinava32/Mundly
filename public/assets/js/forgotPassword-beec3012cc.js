var sec=30;const resendButtonToggle=function(){var e="Resend OTP in "+sec+"sec";$("#resend-otp").text(e),0==sec&&($("#resend-otp").prop("disabled",!1),$("#resend-otp").text("Resend OTP"),clearInterval(timer)),sec-=1},validateEmail=($("#submit-btn").on("click",e=>{if(e.preventDefault(),flag1)alert("sending OTP"),$.ajax({type:"post",url:"/users/match-otp",data:$("form").serialize(),success:function(e){e.data.matched?(alert("matched OTP "),window.location.href="/users/reset-password"):(console.log(e.message),$("#message").css("color","red"),$("#message").text(e.message))}});else{if(!flag)return alert("please enter a valid email address!!"),!1;$.ajax({type:"post",url:"/users/send-otp",data:$("form").serialize(),success:function(e){e.data.found?($("#submit-btn").text("Enter OTP"),$("#message").css("color","green"),$("#message").text(e.message),$("#message").show(),$("#input-email").val(""),$("#input-email").attr("placeholder","Enter OTP Here"),$("form").attr("action","/users/reset-password"),flag1=!0,setInterval(resendButtonToggle,1e3)):(console.log(e.message),$("#message").css("color","red"),$("#message").text(e.message))}})}}),e=>(console.log("called function"),e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))),validate=()=>{var e,s;return!!flag1||(e=$("#result"),s=$("#input-email").val(),console.log("email provided is ",s),e.text(""),flag=!!validateEmail(s),!1)};var flag1=!1,flag=($("#input-email").on("input",validate),$("#resend-otp").prop("disabled",!0),$("#message").text(""),!1);